<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>无人车数据大屏 - 网联末端物流</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/car-screen.css">
    <link rel="stylesheet" href="css/panel-prototype.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <script src="js/echarts.min.js"></script>
    <!-- <script src="https://webapi.amap.com/maps?v=2.0&key=0ab0f0b45664f7b5d7f3030df28d12f0&plugin=AMap.Scale,AMap.ToolBar,AMap.MapType,AMap.Map3D,AMap.Buildings"></script> -->
    <script src="js/data.js"></script>
    <script src="js/car-screen.js" defer></script>
    <script src="js/panel-prototype.js" defer></script>
</head>
<body>
    <div class="top-title">自动驾驶物流大脑</div>

    <!-- 左侧竖向统计栏 -->
    <div class="left-panels">
        <div class="panel u-neon-fixed" id="panel-order-delivery">
            <div class="panel-title">
                <div class="title-left">订单配送统计</div>
                <div class="chart-legend">
                    <div class="legend-item"><span class="swatch swatch-order" style="background:#ffb86b"></span><span>订单数量</span></div>
                    <div class="legend-item"><span class="swatch swatch-weight" style="background:#9ef27e"></span><span>配送重量</span></div>
                </div>
            </div>
            <div class="panel-body"><div id="chartOrderDelivery" class="mini-canvas"></div></div>
        </div>
        <div class="panel u-neon-fixed" id="panel-performance">
            <div class="panel-title">
                <div class="title-left">效能统计</div>
                <div class="chart-legend">
                    <div class="legend-item"><span class="swatch swatch-trip" style="background:#66b1ff"></span><span>车次</span></div>
                    <div class="legend-item"><span class="swatch" style="background:#1a56db"></span><span>车辆耗电</span></div>
                    <div class="legend-item"><span class="swatch" style="background:#9ef27e"></span><span>平均耗时</span></div>
                </div>
            </div>
            <div class="panel-body"><div id="chartPerf" class="mini-canvas"></div></div>
        </div>
        <div class="panel u-neon-fixed" id="panel-efficiency">
            <div class="panel-title">
                <div class="title-left">车辆安全统计</div>
                <div class="chart-legend">
                    <div class="legend-item"><span class="swatch" style="background:#6b7280"></span><span>事件数量</span></div>
                    <div class="legend-item"><span class="swatch" style="background:#ff6b6b"></span><span>误报率</span></div>
                    <div class="legend-item"><span class="swatch" style="background:#7ee787"></span><span>已解决</span></div>
                </div>
            </div>
            <div class="panel-body"><div id="chartEff" class="mini-canvas"></div></div>
        </div>
        <div class="panel u-neon-fixed" id="panel-util">
            <div class="panel-title">
                <div class="title-left">经济性统计</div>
                <div class="chart-legend">
                    <div class="legend-item"><span class="swatch" style="background:#f59e42"></span><span>百公里耗电</span></div>
                </div>
            </div>
            <div class="panel-body"><div id="chartUtil" class="mini-canvas"></div></div>
        </div>
    </div>

    <!-- 主体区域（顶部指标 + 地图/可视化） -->
    <div class="center-area">
        <div class="kpi-bar">
            <div class="kpi-card u-neon-fixed">
                <div class="kpi-icon">≡</div>
                <div class="kpi-title">总车次<div class="kpi-value" id="kpiTrips">--</div></div>
            </div>
            <div class="kpi-card u-neon-fixed">
                <div class="kpi-icon">⚙</div>
                <div class="kpi-title">总订单<div class="kpi-value" id="kpiOrders">--</div></div>
            </div>
            <div class="kpi-card u-neon-fixed">
                <div class="kpi-icon">🛣</div>
                <div class="kpi-title">总线路<div class="kpi-value" id="kpiRoutes">--</div></div>
            </div>
            <div class="kpi-card u-neon-fixed">
                <div class="kpi-icon">🚚</div>
                <div class="kpi-title">在途车辆<div class="kpi-value" id="kpiOnRoad">--</div></div>
            </div>
        </div>
    </div>

    <!-- 右侧面板 -->
    <div class="right-panels">
        <div class="panel u-neon-fixed" style="height: 25%;">
            <div class="panel-title">
                <span class="title-left">实时状态</span>
                <div class="search-box">
                    <input id="panelSearchInput" type="text" placeholder="输入车牌或路线">
                    <button id="panelSearchBtn">查询</button>
                </div>
            </div>
            <div class="vehicle-info">
                <div class="vehicle-icon">
                    <img src="image/car.png" alt="车辆图标">
                    <div class="vehicle-plate">渝U00001</div>
                </div>
                <div class="vehicle-panel u-neon-fixed u-shimmer">车辆信息面板</div>
            </div>
        </div>
        <div class="panel u-neon-fixed">
            <div class="prototype-table-section">
                <div style="width:48%;">
                    <div class="route-list-header" style="display:grid;grid-template-columns:60px 1fr 84px;gap:8px;padding:6px 8px 10px 8px;color:var(--accent-2);font-weight:700;font-size:13px;">
                        <div>编号</div>
                        <div>配送路线</div>
                        <div style="text-align:right;">在途车辆</div>
                    </div>
                    <ul id="routeList" class="prototype-route-list" style="list-style:none;padding:0;margin:0;"></ul>
                </div>
                <table class="prototype-table">
                    <thead>
                        <tr>
                            <th colspan="2">配送订单月周期统计</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="route">高新区月度总配送</td>
                            <td class="stat">99</td>
                        </tr>
                        <tr>
                            <td class="route">大学城片区月度配送</td>
                            <td class="stat">99</td>
                        </tr>
                        <tr>
                            <td class="route">科谷片区月度配送</td>
                            <td class="stat">99</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="panel u-neon-fixed">
            <div class="prototype-date-section">
                <span class="prototype-date">日期</span>
                <button class="prototype-expand">展开选择</button>
            </div>
            <div id="prototypeChart" class="prototype-chart">ECharts 图表</div>
        </div>
    </div>
</body>
</html>

